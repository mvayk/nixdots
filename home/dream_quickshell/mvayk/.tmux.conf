set-option -g default-shell /run/current-system/sw/bin/zsh
set-option -g default-terminal "tmux-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc,tmux-256color:Tc"
set-option -g history-limit 5000
set-option -g mode-keys vi
set-option -g escape-time 10
set-option -g base-index 1
set-option -g pane-base-index 1
set-option -g aggressive-resize on
set-option -g clock-mode-style 24
set-option -g status on
set-option -g mouse on
unbind C-b
set -g prefix C-e
bind C-e send-prefix
set-option -g renumber-windows on
set-option -g focus-events on

## Ros√© Pine Moon tmux theme
## Based on https://github.com/rose-pine/kitty/blob/main/dist/rose-pine-moon.conf

# Color definitions
base="#232136"
surface="#2a273f"
overlay="#393552"
muted="#6e6a86"
subtle="#908caa"
text="#e0def4"
love="#eb6f92"
gold="#f6c177"
rose="#ea9a97"
pine="#3e8fb0"
foam="#9ccfd8"
iris="#c4a7e7"
highlight_high="#56526e"

# Status line
set -g status-style "bg=$base,fg=$text"
set -g status-left-style "bg=$base,fg=$text"
set -g status-right-style "bg=$base,fg=$text"

# Window status
set -g window-status-style "bg=$base,fg=$subtle"
set -g window-status-current-style "bg=$overlay,fg=$text"
set -g window-status-activity-style "bg=$base,fg=$love"

# Pane borders
set -g pane-border-style "fg=$highlight_high"
set -g pane-active-border-style "fg=$pine"

# Message text
set -g message-style "bg=$overlay,fg=$text"
set -g message-command-style "bg=$overlay,fg=$text"

# Mode style (copy mode, etc)
set -g mode-style "bg=$highlight_high,fg=$text"

# Status bar format
set -g status-left-length 100
set -g status-right-length 100
set -g status-left "#[bg=$iris,fg=$base,bold] #S #[bg=$base,fg=$iris]"
set -g status-right "#[bg=$base,fg=$pine]#[bg=$pine,fg=$base] %Y-%m-%d #[bg=$pine,fg=$foam]#[bg=$foam,fg=$base] %H:%M "

# Window status format
set -g window-status-format "#[bg=$base,fg=$muted] #I:#W "
set -g window-status-current-format "#[bg=$overlay,fg=$text,bold] #I:#W "
set -g window-status-separator ""

# Clock mode
setw -g clock-mode-colour "$foam"
